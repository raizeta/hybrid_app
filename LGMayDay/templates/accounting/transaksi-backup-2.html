<ion-view view-title="TRANS PENJUALAN {{tglsekarang}}">  
  <ion-content class="has-header" padding="false" scroll="false">
    <div class="row" style="max-height:94%">
      <div class="col col-33" style="padding-left:10px">
        <div style="height:97%;">
          <ion-item class="item-assertive" >
            <div class="item-icon-left" ng-click="newcustomertransaksi()">
              <i class="icon ion-ios-chatboxes-outline"></i>
              <h2>LIST TRANSAKSI</h2>
            </div>
          </ion-item>
          <ion-scroll direction="y" overflow-scroll="true" delegate-handle="scrolltobottom" style="position: relative !important;max-height:99%;overflow-y: scroll;">
            <div class="row" ng-repeat="item in datas track by $index" ng-click="showdetail(item)">
                <div class="col col-66" style="min-width:130px">
                  {{$index + 1}}.&nbsp;&nbsp;{{item.NOMOR_TRANS}}
                </div>
                <div class="my-col">
                  <div style="float:right">
                    {{item.TOTAL_SPENT|number}}
                  </div>
                </div>
            </div>
          </ion-scroll>
          <div class="row">
              <div class="col col-66">
                <h5>Total </h5>
              </div>
              <div class="my-col">
                <div style="float:right;padding-right: 0px;">
                  <h5 ng-if="datas.length > 0">{{total|number}}</h5>
                  <h5 ng-if="datas.length == 0">0</h5>
                </div>
              </div>
          </div>
        </div>
      </div>
      <div class="col col-66" ng-if="headerdetail">
        <ion-item class="item-assertive" >
          <div class="item-icon-left">
            <i class="icon ion-ios-chatboxes"></i>
            <h2>DETAIL {{headerdetail.NOMOR_TRANS}}</h2>
          </div>
        </ion-item>
        <div class="row"  style="flex-wrap: wrap;padding-top: 10px;">
          <div class="col col-33"  ng-repeat="item in datayangdibeli | filter: filterproduct track by $index">
            <ion-list>
              <ion-item class="item-stable" style="padding-top: 5px;padding-bottom: 5px">
                <div class="item-icon-left" style="padding-left:34px" ng-click="tambahqtyitem(item)">
                    <i class="icon ion-ios-compose"></i>
                    <span style="font-size: 12px;text-align:left;">
                      {{item.ITEM_NM|cuttext:true:19:'...'}}
                    </span></br>
                    <span style="font-size:12px;font-weight: bold;color: black;"> 
                      {{item.ITEM_HARGA|number}}
                    </span>
                </div>
                <div class="item-icon-right" ng-click="AddToCart(item)">
                    <i style="font-size: 35px; margin-right:0px;right:1px;"   class="icon ion-ios-cart">
                    <span class="badge badge-balanced icon-badge" style="right:0px;" ng-if="item.QTY_INCART > 0">{{item.QTY_INCART|number}}</span>
                    <span class="badge badge-positive icon-badge" style="right:0px;"  ng-if="item.QTY_INCART == 0">{{item.QTY_INCART|number}}</span>
                  </i>
                </div>
              </ion-item>
            </ion-list>
          </div>
        </div>
        <ion-item class="item-assertive">
          <div class="item-icon-left">
            <i class="icon ion-card"></i>
            <h2>PEMBAYARAN {{headerdetail.METHOD_PEMBAYARAN}} {{headerdetail.MERCHANT_NM}}</h2>
          </div>
        </ion-item>
        <div style="padding-top: 10px;">
          <ion-item class="item-assertive" >
            <div class="item-icon-left" ng-click="newcustomertransaksi()">
              <i class="icon ion-person-add"></i>
              <h2>USER INFO</h2>
            </div>
          </ion-item>
          <div class="col col-100">
            <div class="row" style="flex-wrap: wrap;padding-top: 10px;">
                <div class="col col-50">      
                  <div>
                    <label  class="item item-input" style="background-color: #f8f8f8">
                    <style>
                    i.icon.ion-card {
                        font-size: 36px;
                        padding-right: 50px
                      }
                      </style>
                      <i class="icon ion-card placeholder-icon"></i>
                      <input type="text" placeholder="NAMA" ng-model="headerdetail.BUYER_NM" readonly="true">
                    </label>
                  </div>
                </div>
                <div class="col col-50">      
                  <div>
                    <label  class="item item-input" style="background-color: #f8f8f8">
                    <style>
                    i.icon.ion-card {
                        font-size: 36px;
                        padding-right: 50px
                      }
                      </style>
                      <i class="icon ion-card placeholder-icon"></i>
                      <input type="text" placeholder="EMAIL" ng-model="headerdetail.BUYER_EMAIL" readonly="true">
                    </label>
                  </div>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-66" ng-if="!headerdetail">Klick Item Di List Transaksi</div>
    </div>
  </ion-content>
</ion-view>